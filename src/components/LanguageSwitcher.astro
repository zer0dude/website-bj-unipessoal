---
import { getCurrentLocale, getAlternateLocale, getLocalizedPath } from '../i18n/translations';
import { getLanguageSwitchUrl, LANGUAGE_NAMES } from '../i18n/ui';

const currentLocale = getCurrentLocale(Astro.url);
const alternateLocale = getAlternateLocale(currentLocale);
const switchUrl = getLanguageSwitchUrl(Astro.url, alternateLocale);
---

<div class="language-switcher">
  <span class="current-language" aria-label={`Current language: ${LANGUAGE_NAMES[currentLocale].native}`}>
    {currentLocale.toUpperCase()}
  </span>
  <span class="separator">|</span>
  <a 
    href={switchUrl} 
    class="switch-language"
    aria-label={`Switch to ${LANGUAGE_NAMES[alternateLocale].native}`}
    title={`Switch to ${LANGUAGE_NAMES[alternateLocale].native}`}
  >
    {alternateLocale.toUpperCase()}
  </a>
</div>
