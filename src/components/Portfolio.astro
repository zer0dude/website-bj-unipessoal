---
import PortfolioCard from './PortfolioCard.astro';
import { getCurrentLocale, getTranslation } from '../i18n/translations';

const locale = getCurrentLocale(Astro.url);
const t = (key: string) => getTranslation(locale, key);

// Portfolio projects data with SEO-friendly URLs and AI/ML tech stacks
const portfolioProjects = [
  {
    title: t('portfolio.project1.title'),
    description: t('portfolio.project1.description'),
    technologies: ['Python', 'FastAPI', 'LangChain', 'OpenAI API', 'PostgreSQL', 'Redis', 'Docker'],
    projectUrl: locale === 'en' ? '/en/portfolio/multi-agent-ticketing' : '/portfolio/multi-agent-ticketing',
    imageIcon: '/assets/ai.svg'
  },
  {
    title: t('portfolio.project2.title'),
    description: t('portfolio.project2.description'),
    technologies: ['Python', 'Scikit-learn', 'Pandas', 'XGBoost', 'Apache Kafka', 'MLflow', 'AWS SageMaker'],
    projectUrl: locale === 'en' ? '/en/portfolio/customer-churn-prediction' : '/portfolio/customer-churn-prediction',
    imageIcon: '/assets/database.svg'
  },
  {
    title: t('portfolio.project3.title'),
    description: t('portfolio.project3.description'),
    technologies: ['Python', 'PyTorch', 'OpenCV', 'YOLO', 'TensorFlow', 'CUDA', 'Docker'],
    projectUrl: locale === 'en' ? '/en/portfolio/computer-vision-identifier' : '/portfolio/computer-vision-identifier',
    imageIcon: '/assets/code.svg'
  }
];
---

<section id="portfolio" class="portfolio-section">
  <div class="content-container">
    <h3>{t('portfolio.title')}</h3>
    <p class="section-description">{t('portfolio.description')}</p>
    
    <div class="projects-section">
      {portfolioProjects.map(project => (
        <PortfolioCard
          title={project.title}
          description={project.description}
          technologies={project.technologies}
          projectUrl={project.projectUrl}
          imageIcon={project.imageIcon}
        />
      ))}
    </div>
  </div>
</section>
